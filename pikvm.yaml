---
# su
# rw
# curl -Lo /etc/kvmd/override.yaml https://raw.githubusercontent.com/tholinka/home-ops/refs/heads/main/pikvm.yaml
# ro
# systemctl restart kvmd

kvmd:
  atx:
    type: disabled
  gpio:
    drivers:
      tes:
        type: tesmart
        host: switch.kvm.iot.internal
        port: 5000
      wol_c1:
        type: wol
        mac: c4:62:37:00:3c:73
      wol_c2:
        type: wol
        mac: c4:62:37:00:3d:fe
      wol_c3:
        type: wol
        mac: c4:62:37:00:3b:d2
      wol_w1:
        type: wol
        mac: 6c:1f:f7:1a:c3:b7
      wol_w2:
        type: wol
        mac: 6c:1f:f7:1b:98:c4
      wol_w3:
        type: wol
        mac: 6c:1f:f7:1b:9f:bb
      wol_w4:
        type: wol
        mac: 6c:1f:f7:1b:98:bd
      wol_nas:
        type: wol
        mac: ae:98:0d:1e:a6:fe
    scheme:
      wol_l1:
        driver: wol_c1
        pin: 0
        mode: output
        switch: false
      wol_l2:
        driver: wol_c2
        pin: 0
        mode: output
        switch: false
      wol_l3:
        driver: wol_c3
        pin: 0
        mode: output
        switch: false
      wol_h1:
        driver: wol_w1
        pin: 0
        mode: output
        switch: false
      wol_h2:
        driver: wol_w2
        pin: 0
        mode: output
        switch: false
      wol_h3:
        driver: wol_w3
        pin: 0
        mode: output
        switch: false
      wol_h4:
        driver: wol_w4
        pin: 0
        mode: output
        switch: false
      wol_nas:
        driver: wol_nas
        pin: 0
        mode: output
        switch: false
      nas_led: &led
        driver: tes
        pin: 0
        mode: input
      nas_switch: &switch
        driver: tes
        pin: 0
        mode: output
        switch: false
      h1_led:
        <<: *led
        pin: 1
      h1_switch:
        <<: *switch
        pin: 1
      h2_led:
        <<: *led
        pin: 2
      h2_switch:
        <<: *switch
        pin: 2
      h3_led:
        <<: *led
        pin: 3
      h3_switch:
        <<: *switch
        pin: 3
      h4_led:
        <<: *led
        pin: 4
      h4_switch:
        <<: *switch
        pin: 4
      l1_led:
        <<: *led
        pin: 5
      l1_switch:
        <<: *switch
        pin: 5
      l2_led:
        <<: *led
        pin: 6
      l2_switch:
        <<: *switch
        pin: 6
      l3_led:
        <<: *led
        pin: 7
      l3_switch:
        <<: *switch
        pin: 7
    view:
      table:
        - ['#l1', wol_l1|WoL, l1_led, l1_switch|Switch]
        - ['#l2', wol_l2|WoL, l2_led, l2_switch|Switch]
        - ['#l3', wol_l3|WoL, l3_led, l3_switch|Switch]
        - ['#h1', wol_h1|WoL, h1_led, h1_switch|Switch]
        - ['#h2', wol_h2|WoL, h2_led, h2_switch|Switch]
        - ['#h3', wol_h3|WoL, h3_led, h3_switch|Switch]
        - ['#h4', wol_h4|WoL, h4_led, h4_switch|Switch]
        - ['#nas', wol_nas|WoL, nas_led, nas_switch|Switch]
